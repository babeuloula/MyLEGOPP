<?php    class LEGO {        private $root;        private $filtre;        private $lego;        private $folder;        public function __construct() {            $this->root = str_replace('class', '', __DIR__);            $this->filtre = $this->root . "render/filtre.png";        }        public function create($folder, $image) {            $this->folder = $folder;            if(!is_dir($this->root . 'render/' . $this->folder)) {                mkdir($this->root . 'render/' . $this->folder);            }            $extention = explode('.', $image);            $extention = end($extention);            if(strtolower($extention) == "jpg" || strtolower($extention) == "jpeg") {                $dest = imagecreatefromjpeg($this->root . 'render/' . $this->folder . '/' . $image);            } else if(strtolower($extention) == "png") {                $dest = imagecreatefrompng($this->root . 'render/' . $this->folder . '/' . $image);            } else if(strtolower($extention) == "gif") {                $dest = imagecreatefromgif($this->root . 'render/' . $this->folder . '/' . $image);            }            $thumb = imagecreatetruecolor(20, 20);            imagecopyresampled($thumb, $dest, 0, 0, 0, 0, 20, 20, 600, 600);            $lego = imagecreatetruecolor(600, 600);            imagecopyresampled($lego, $thumb, 0, 0, 0, 0, 600, 600, 20, 20);            $source = imagecreatefrompng($this->filtre);            imagecopy($lego, $source, 0, 0, 0, 0, 600, 600);            $this->lego = $lego;        }        public function output($save = false) {            if($save) {                imagejpeg($this->lego, $this->root . 'render/' . $this->folder . '/lego.jpg', 100);            } else {                header("Content-type: image/jpeg");                imagejpeg($this->lego, null, 100);            }        }    }